{"ast":null,"code":"import { FormControl } from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport { map, startWith } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/curso.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/material/form-field\";\nimport * as i5 from \"@angular/material/input\";\nimport * as i6 from \"@angular/material/autocomplete\";\nimport * as i7 from \"@angular/material/core\";\nimport * as i8 from \"../curso-details/curso-details.component\";\n\nfunction CursoListComponent_mat_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const option_r3 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"value\", option_r3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.cursos, \" \");\n  }\n}\n\nfunction CursoListComponent_li_17_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const curso_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" (\", curso_r4.tema.nombre, \") \");\n  }\n}\n\nfunction CursoListComponent_li_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 17);\n    i0.ɵɵlistener(\"click\", function CursoListComponent_li_17_Template_li_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const curso_r4 = restoredCtx.$implicit;\n      const i_r5 = restoredCtx.index;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.setActiveElement(curso_r4, i_r5));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, CursoListComponent_li_17_div_2_Template, 2, 1, \"div\", 18);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const curso_r4 = ctx.$implicit;\n    const i_r5 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"active\", i_r5 == ctx_r2.currentIndex);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", curso_r4.nombre, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", curso_r4.tema);\n  }\n}\n\nexport class CursoListComponent {\n  constructor(cursoService) {\n    this.cursoService = cursoService;\n    this.currentElement = {};\n    this.currentIndex = -1;\n    this.title = '';\n    this.myControl = new FormControl();\n    this.options = ['One', 'Two', 'Three'];\n    this.filteredOptions = new Observable();\n  }\n\n  ngOnInit() {\n    this.retrieveCursos();\n    this.filteredOptions = this.myControl.valueChanges.pipe(startWith(''), map(value => this._filter(value || '')));\n  }\n\n  retrieveCursos() {\n    this.cursoService.getAll().subscribe({\n      next: data => {\n        this.cursos = data;\n        console.log(this.cursos);\n      },\n      error: e => console.error(e)\n    });\n  }\n\n  refreshList() {\n    this.retrieveCursos();\n    this.currentElement = {};\n    this.currentIndex = -1;\n  }\n\n  setActiveElement(element, index) {\n    this.currentElement = element;\n    this.currentIndex = index;\n  }\n\n  removeAllElements() {\n    this.cursoService.deleteAll().subscribe({\n      next: res => {\n        console.log(res);\n        this.refreshList();\n      },\n      error: e => console.error(e)\n    });\n  }\n\n  searchTitle() {\n    this.currentElement = {};\n    this.currentIndex = -1;\n    this.cursoService.findByTitle(this.title).subscribe({\n      next: data => {\n        this.currentElement = data;\n        console.log(data);\n      },\n      error: e => console.error(e)\n    });\n  }\n\n  _filter(value) {\n    const filterValue = value.toLowerCase();\n    return this.options.filter(option => option.toLowerCase().includes(filterValue));\n  }\n\n}\n\nCursoListComponent.ɵfac = function CursoListComponent_Factory(t) {\n  return new (t || CursoListComponent)(i0.ɵɵdirectiveInject(i1.CursoService));\n};\n\nCursoListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CursoListComponent,\n  selectors: [[\"app-curso-list\"]],\n  decls: 22,\n  vars: 8,\n  consts: [[1, \"list\", \"row\"], [1, \"col-md-8\"], [1, \"input-group\", \"mb-3\"], [1, \"example-form\"], [1, \"example-full-width\"], [\"type\", \"text\", \"placeholder\", \"Buscar curso\", \"matInput\", \"\", 3, \"formControl\", \"matAutocomplete\"], [\"autoActiveFirstOption\", \"\"], [\"auto\", \"matAutocomplete\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"input-group-append\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", 3, \"click\"], [1, \"col-md-6\"], [1, \"list-group\"], [\"class\", \"list-group-item\", 3, \"active\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"disabled\", \"\", 1, \"m-3\", \"btn\", \"btn-sm\", \"btn-danger\", 3, \"click\"], [3, \"viewMode\", \"currentElement\"], [3, \"value\"], [1, \"list-group-item\", 3, \"click\"], [4, \"ngIf\"]],\n  template: function CursoListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"form\", 3)(4, \"mat-form-field\", 4);\n      i0.ɵɵelement(5, \"input\", 5);\n      i0.ɵɵelementStart(6, \"mat-autocomplete\", 6, 7);\n      i0.ɵɵtemplate(8, CursoListComponent_mat_option_8_Template, 2, 2, \"mat-option\", 8);\n      i0.ɵɵpipe(9, \"async\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(10, \"div\", 9)(11, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function CursoListComponent_Template_button_click_11_listener() {\n        return ctx.searchTitle();\n      });\n      i0.ɵɵtext(12, \" Buscar \");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(13, \"div\", 11)(14, \"h4\");\n      i0.ɵɵtext(15, \"Listado Cursos\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"ul\", 12);\n      i0.ɵɵtemplate(17, CursoListComponent_li_17_Template, 3, 4, \"li\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function CursoListComponent_Template_button_click_18_listener() {\n        return ctx.removeAllElements();\n      });\n      i0.ɵɵtext(19, \" Remove All \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 11);\n      i0.ɵɵelement(21, \"app-curso-details\", 15);\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(7);\n\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formControl\", ctx.myControl)(\"matAutocomplete\", _r0);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(9, 6, ctx.filteredOptions));\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngForOf\", ctx.cursos);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"viewMode\", true)(\"currentElement\", ctx.currentElement);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgForm, i4.MatFormField, i5.MatInput, i6.MatAutocomplete, i6.MatAutocompleteTrigger, i7.MatOption, i3.FormControlDirective, i8.CursoDetailsComponent, i2.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjdXJzby1saXN0LmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"mappings":"AAGA,SAASA,WAAT,QAA4B,gBAA5B;AACA,SAASC,UAAT,QAA2B,MAA3B;AACA,SAASC,GAAT,EAAcC,SAAd,QAA+B,gBAA/B;;;;;;;;;;;;;ICMQC;IACGA;IACHA;;;;;;IAF2DA;IACxDA;IAAAA;;;;;;IA0BHA;IACCA;IACDA;;;;;IADCA;IAAAA;;;;;;;;IARHA;IAIEA;MAAA;MAAA;MAAA;MAAA;MAAA,OAASA,uDAAT;IAAmC,CAAnC;IAEAA;IACAA;IAGFA;;;;;;;IAPEA;IAGAA;IAAAA;IACMA;IAAAA;;;;AD1Bd,OAAM,MAAOC,kBAAP,CAAyB;EAU7BC,YAAoBC,YAApB,EAA8C;IAA1B;IARpB,sBAAwB,EAAxB;IACA,oBAAe,CAAC,CAAhB;IACA,aAAQ,EAAR;IAEA,iBAAY,IAAIP,WAAJ,EAAZ;IACA,eAAoB,CAAC,KAAD,EAAQ,KAAR,EAAe,OAAf,CAApB;IACA,uBAAwC,IAAIC,UAAJ,EAAxC;EAEkD;;EAElDO,QAAQ;IACN,KAAKC,cAAL;IACA,KAAKC,eAAL,GAAuB,KAAKC,SAAL,CAAeC,YAAf,CAA4BC,IAA5B,CACrBV,SAAS,CAAC,EAAD,CADY,EAErBD,GAAG,CAACY,KAAK,IAAI,KAAKC,OAAL,CAAaD,KAAK,IAAI,EAAtB,CAAV,CAFkB,CAAvB;EAID;;EAEDL,cAAc;IACZ,KAAKF,YAAL,CAAkBS,MAAlB,GAA2BC,SAA3B,CAAqC;MACnCC,IAAI,EAAGC,IAAD,IAAS;QACb,KAAKC,MAAL,GAAcD,IAAd;QACAE,OAAO,CAACC,GAAR,CAAY,KAAKF,MAAjB;MACD,CAJkC;MAKnCG,KAAK,EAAGC,CAAD,IAAOH,OAAO,CAACE,KAAR,CAAcC,CAAd;IALqB,CAArC;EAOD;;EAEDC,WAAW;IACT,KAAKhB,cAAL;IACA,KAAKiB,cAAL,GAAsB,EAAtB;IACA,KAAKC,YAAL,GAAoB,CAAC,CAArB;EACD;;EAEDC,gBAAgB,CAACC,OAAD,EAAiBC,KAAjB,EAA8B;IAC5C,KAAKJ,cAAL,GAAsBG,OAAtB;IACA,KAAKF,YAAL,GAAoBG,KAApB;EACD;;EAEDC,iBAAiB;IACf,KAAKxB,YAAL,CAAkByB,SAAlB,GAA8Bf,SAA9B,CAAwC;MACtCC,IAAI,EAAGe,GAAD,IAAQ;QACZZ,OAAO,CAACC,GAAR,CAAYW,GAAZ;QACA,KAAKR,WAAL;MACD,CAJqC;MAKtCF,KAAK,EAAGC,CAAD,IAAOH,OAAO,CAACE,KAAR,CAAcC,CAAd;IALwB,CAAxC;EAOD;;EAEDU,WAAW;IACT,KAAKR,cAAL,GAA6B,EAA7B;IACA,KAAKC,YAAL,GAAoB,CAAC,CAArB;IACA,KAAKpB,YAAL,CAAkB4B,WAAlB,CAA8B,KAAKC,KAAnC,EAA0CnB,SAA1C,CAAoD;MAClDC,IAAI,EAAGC,IAAD,IAAS;QACb,KAAKO,cAAL,GAAsBP,IAAtB;QACAE,OAAO,CAACC,GAAR,CAAYH,IAAZ;MACD,CAJiD;MAKlDI,KAAK,EAAGC,CAAD,IAAOH,OAAO,CAACE,KAAR,CAAcC,CAAd;IALoC,CAApD;EAOD;;EAEOT,OAAO,CAACD,KAAD,EAAc;IAC3B,MAAMuB,WAAW,GAAGvB,KAAK,CAACwB,WAAN,EAApB;IACA,OAAO,KAAKC,OAAL,CAAaC,MAAb,CAAoBC,MAAM,IAAIA,MAAM,CAACH,WAAP,GAAqBI,QAArB,CAA8BL,WAA9B,CAA9B,CAAP;EACD;;AAlE4B;;;mBAAlBhC,oBAAkBD;AAAA;;;QAAlBC;EAAkBsC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZ/B3C,+BAAsB,CAAtB,EAAsB,KAAtB,EAAsB,CAAtB,EAAsB,CAAtB,EAAsB,KAAtB,EAAsB,CAAtB,EAAsB,CAAtB,EAAsB,MAAtB,EAAsB,CAAtB,EAAsB,CAAtB,EAAsB,gBAAtB,EAAsB,CAAtB;MAKMA;MAKAA;MACEA;;MAGFA;MAGAA,gCAAgC,EAAhC,EAAgC,QAAhC,EAAgC,EAAhC;MAIIA;QAAA,OAAS4C,iBAAT;MAAsB,CAAtB;MAEA5C;MACFA;MAINA,iCAAsB,EAAtB,EAAsB,IAAtB;MACMA;MAAcA;MAClBA;MACEA;MAWFA;MACAA;MAAmDA;QAAA,OAAS4C,uBAAT;MAA4B,CAA5B;MACjD5C;MACFA;MAEJA;MACEA;MAIFA;;;;;;MA5CaA;MAAAA,4CAAyB,iBAAzB,EAAyB6C,GAAzB;MAG0B7C;MAAAA;MAsBbA;MAAAA;MAgBxBA;MAAAA,gCAAiB,gBAAjB,EAAiB4C,kBAAjB","names":["FormControl","Observable","map","startWith","i0","CursoListComponent","constructor","cursoService","ngOnInit","retrieveCursos","filteredOptions","myControl","valueChanges","pipe","value","_filter","getAll","subscribe","next","data","cursos","console","log","error","e","refreshList","currentElement","currentIndex","setActiveElement","element","index","removeAllElements","deleteAll","res","searchTitle","findByTitle","title","filterValue","toLowerCase","options","filter","option","includes","selectors","decls","vars","consts","template","ctx","_r0"],"sourceRoot":"","sources":["C:\\Users\\tomii\\git\\ngDDS2023\\src\\app\\components\\curso-list\\curso-list.component.ts","C:\\Users\\tomii\\git\\ngDDS2023\\src\\app\\components\\curso-list\\curso-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Curso } from 'src/app/models/curso.model';\nimport { CursoService } from 'src/app/services/curso.service';\nimport { FormControl } from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport { map, startWith } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-curso-list',\n  templateUrl: './curso-list.component.html',\n  styleUrls: ['./curso-list.component.css'],\n})\nexport class CursoListComponent implements OnInit {\n  cursos?: Curso[];\n  currentElement: Curso = {};\n  currentIndex = -1;\n  title = '';\n\n  myControl = new FormControl();\n  options: string[] = ['One', 'Two', 'Three'];\n  filteredOptions: Observable<string[]> = new Observable<string[]>();\n\n  constructor(private cursoService: CursoService) {}\n\n  ngOnInit(): void {\n    this.retrieveCursos();\n    this.filteredOptions = this.myControl.valueChanges.pipe(\n      startWith(''),\n      map(value => this._filter(value || ''))\n    );\n  }\n\n  retrieveCursos(): void {\n    this.cursoService.getAll().subscribe({\n      next: (data) => {\n        this.cursos = data;\n        console.log(this.cursos);\n      },\n      error: (e) => console.error(e),\n    });\n  }\n\n  refreshList(): void {\n    this.retrieveCursos();\n    this.currentElement = {};\n    this.currentIndex = -1;\n  }\n\n  setActiveElement(element: Curso, index: number): void {\n    this.currentElement = element;\n    this.currentIndex = index;\n  }\n\n  removeAllElements(): void {\n    this.cursoService.deleteAll().subscribe({\n      next: (res) => {\n        console.log(res);\n        this.refreshList();\n      },\n      error: (e) => console.error(e),\n    });\n  }\n\n  searchTitle(): void {\n    this.currentElement = <Curso>{};\n    this.currentIndex = -1;\n    this.cursoService.findByTitle(this.title).subscribe({\n      next: (data) => {\n        this.currentElement = data;\n        console.log(data);\n      },\n      error: (e) => console.error(e),\n    });\n  }\n\n  private _filter(value: string): string[] {\n    const filterValue = value.toLowerCase();\n    return this.options.filter(option => option.toLowerCase().includes(filterValue));\n  }\n}\n\n","<div class=\"list row\">\n  <div class=\"col-md-8\">\n    <div class=\"input-group mb-3\">\n      <form class=\"example-form\">\n\t\t  <mat-form-field class=\"example-full-width\">\n\t\t    <input type=\"text\"\n\t\t           placeholder=\"Buscar curso\"\n\t\t           matInput\n\t\t           [formControl]=\"myControl\"\n\t\t           [matAutocomplete]=\"auto\">\n\t\t    <mat-autocomplete autoActiveFirstOption #auto=\"matAutocomplete\">\n\t\t      <mat-option *ngFor=\"let option of filteredOptions | async\" [value]=\"option\">\n\t\t         {{ cursos }} \n\t\t      </mat-option>\n\t\t    </mat-autocomplete>\n\t\t  </mat-form-field>\n\t\t</form>\n      <div class=\"input-group-append\">\n        <button\n          class=\"btn btn-outline-secondary\"\n          type=\"button\"\n          (click)=\"searchTitle()\"\n        >\n          Buscar\n        </button>\n      </div>\n    </div>\n  </div>\n  <div class=\"col-md-6\">\n    <h4>Listado Cursos</h4>\n    <ul class=\"list-group\">\n      <li\n        class=\"list-group-item\"\n        *ngFor=\"let curso of cursos; let i = index\"\n        [class.active]=\"i == currentIndex\"\n        (click)=\"setActiveElement(curso, i)\"\n      >\n        {{ curso.nombre }} \n        <div *ngIf=\"curso.tema\">\n        \t({{ curso.tema.nombre }})\n        </div> \n      </li>\n    </ul>\n    <button class=\"m-3 btn btn-sm btn-danger\" disabled (click)=\"removeAllElements()\">\n      Remove All\n    </button>\n  </div>\n<div class=\"col-md-6\">\n  <app-curso-details\n  [viewMode]=\"true\"\n  [currentElement]=\"currentElement\"\n></app-curso-details>\n</div>\n</div>\n"]},"metadata":{},"sourceType":"module"}